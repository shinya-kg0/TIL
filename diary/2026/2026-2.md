## 2/2

### 振り返り

- 論文調査

- Hydra: 複数の設定ファイルを組み合わせて、実行時に動的に一つの設定を作り上げる
  - argparseは引数が多くなる、固定のyamlだと管理大変
  - Hydraは実行時に指示するだけでOK


```text
.
├── config.yaml       # メインの設定
├── db/               # データベース設定のグループ
│   ├── mysql.yaml
│   └── postgresql.yaml
└── main.py           # 実行ファイル

```

**`config.yaml` の中身:**

```yaml
defaults:
  - db: mysql  # デフォルトではMySQLを使う

```

**`main.py` の中身:**

```python
import hydra
from omegaconf import DictConfig

@hydra.main(version_base=None, config_path=".", config_name="config")
def my_app(cfg: DictConfig):
    # cfgの中に全ての設定が統合されて入ってくる
    print(f"Using database: {cfg.db.driver}")

if __name__ == "__main__":
    my_app()

```

この状態で、`python main.py db=postgresql` と打つだけで、  
ソースコードを一切触らずにデータベースの設定を切り替えられる